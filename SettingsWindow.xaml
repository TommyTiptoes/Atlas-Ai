<Window x:Class="AtlasAI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Atlas Settings" Height="750" Width="600"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent" ShowInTaskbar="False"
        ResizeMode="NoResize">

    <Window.Resources>
        <FontFamily x:Key="MainFont">Segoe UI Variable, Segoe UI, Arial</FontFamily>
        <FontFamily x:Key="MonoFont">Cascadia Code, Consolas</FontFamily>
        
        <!-- Atlas Colors -->
        <Color x:Key="BgDeep">#050508</Color>
        <Color x:Key="BgDark">#08080c</Color>
        <Color x:Key="BgMedium">#0c0c12</Color>
        <Color x:Key="Surface">#16161f</Color>
        <Color x:Key="SurfaceHover">#1a1a24</Color>
        <Color x:Key="Cyan">#22d3ee</Color>
        <Color x:Key="Violet">#8b5cf6</Color>
        <Color x:Key="Green">#22c55e</Color>
        <Color x:Key="TextPrimary">#f1f5f9</Color>
        <Color x:Key="TextSecondary">#94a3b8</Color>
        <Color x:Key="TextMuted">#64748b</Color>
        
        <SolidColorBrush x:Key="BgDeepBrush" Color="{StaticResource BgDeep}"/>
        <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource Surface}"/>
        <SolidColorBrush x:Key="CyanBrush" Color="{StaticResource Cyan}"/>
        <SolidColorBrush x:Key="VioletBrush" Color="{StaticResource Violet}"/>
        <SolidColorBrush x:Key="GreenBrush" Color="{StaticResource Green}"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource TextPrimary}"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource TextSecondary}"/>
        <SolidColorBrush x:Key="TextMutedBrush" Color="{StaticResource TextMuted}"/>
        
        <!-- Modern TextBox Style -->
        <Style x:Key="AtlasTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#12121a"/>
            <Setter Property="Foreground" Value="#f1f5f9"/>
            <Setter Property="BorderBrush" Value="#22d3ee40"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="#22d3ee"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#22d3ee"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Modern PasswordBox Style -->
        <Style x:Key="AtlasPasswordBox" TargetType="PasswordBox">
            <Setter Property="Background" Value="#12121a"/>
            <Setter Property="Foreground" Value="#f1f5f9"/>
            <Setter Property="BorderBrush" Value="#22d3ee40"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="CaretBrush" Value="#22d3ee"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#22d3ee"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Modern ComboBox Style -->
        <Style x:Key="AtlasComboBox" TargetType="ComboBox">
            <Setter Property="Background" Value="#12121a"/>
            <Setter Property="Foreground" Value="#f1f5f9"/>
            <Setter Property="BorderBrush" Value="#22d3ee40"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        
        <!-- ComboBoxItem Style - Dark text on light dropdown background -->
        <Style TargetType="ComboBoxItem">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="#1a1a2e"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="bd" Background="{TemplateBinding Background}" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#3022d3ee"/>
                                <Setter Property="Foreground" Value="#0d1117"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#e0e0e0"/>
                                <Setter Property="Foreground" Value="#0d1117"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Section Header Style -->
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#22d3ee"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
            <Setter Property="FontFamily" Value="{StaticResource MonoFont}"/>
        </Style>
        
        <!-- Label Style -->
        <Style x:Key="FieldLabel" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#94a3b8"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
        </Style>
    </Window.Resources>

    <Border CornerRadius="12" Background="#050508" BorderThickness="1" BorderBrush="#22d3ee30">
        <Border.Effect>
            <DropShadowEffect Color="#22d3ee" BlurRadius="40" ShadowDepth="0" Opacity="0.2"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <Border Grid.Row="0" Background="#08080c" CornerRadius="12,12,0,0" 
                    BorderBrush="#22d3ee20" BorderThickness="0,0,0,1" MouseLeftButtonDown="TitleBar_MouseDown">
                <Grid Margin="20,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="âš™" FontSize="18" Foreground="#22d3ee" Margin="0,0,12,0"/>
                        <TextBlock Text="SETTINGS" FontSize="14" FontWeight="SemiBold" Foreground="#f1f5f9"
                                   FontFamily="{StaticResource MainFont}"/>
                    </StackPanel>
                    <Button Content="âœ•" HorizontalAlignment="Right" Click="Close_Click"
                            Background="Transparent" Foreground="#64748b" BorderThickness="0"
                            Width="32" Height="32" FontSize="14" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="bd" Property="Background" Value="#ef444430"/>
                                        <Setter Property="Foreground" Value="#ef4444"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </Border>
            
            <!-- Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="24,20">
                <StackPanel>
                    
                    <!-- AI PROVIDER SECTION -->
                    <TextBlock Text="AI PROVIDER" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#22d3ee20" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Provider" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="AIProviderComboBox" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="AIProviderComboBox_SelectionChanged" Margin="0,0,0,16"/>
                            
                            <TextBlock Text="Model" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="AIModelComboBox" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="AIModelComboBox_SelectionChanged" Margin="0,0,0,16"/>
                            
                            <!-- API Key Input and Status -->
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="API Key" Style="{StaticResource FieldLabel}"/>
                                    <PasswordBox x:Name="AIApiKeyBox" Style="{StaticResource AtlasPasswordBox}"
                                                 PasswordChanged="AIApiKey_Changed"/>
                                </StackPanel>
                                <Button x:Name="TestApiConnectionBtn" Grid.Column="1" Content="ðŸ”Œ Test"
                                        Width="80" Height="36" Click="TestApiConnection_Click" VerticalAlignment="Bottom"
                                        Background="#22c55e20" Foreground="#22c55e" BorderThickness="0"
                                        Margin="8,0,0,0">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6">
                                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="bd" Property="Background" Value="#22c55e30"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                            </Grid>
                            
                            <!-- Connection Status -->
                            <Border x:Name="ApiStatusBorder" Background="#22d3ee10" CornerRadius="4" Padding="10" Margin="0,0,0,0">
                                <StackPanel>
                                    <TextBlock x:Name="ApiStatusText" Text="â“ Connection status unknown - click Test to check" 
                                               Foreground="#94a3b8" FontSize="11" TextWrapping="Wrap"/>
                                    <TextBlock x:Name="ApiKeyStatusText" Text="" 
                                               Foreground="#94a3b8" FontSize="10" Margin="0,5,0,0"
                                               Visibility="Collapsed"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                    
                    <!-- VOICE SECTION -->
                    <TextBlock Text="VOICE OUTPUT" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#8b5cf620" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Voice Provider" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="VoiceProviderCombo" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="VoiceProvider_Changed" Margin="0,0,0,16"/>
                            
                            <TextBlock Text="ElevenLabs API Key" Style="{StaticResource FieldLabel}"/>
                            <PasswordBox x:Name="ElevenLabsKeyBox" Style="{StaticResource AtlasPasswordBox}" Margin="0,0,0,16"/>
                            
                            <TextBlock Text="OpenAI TTS Key" Style="{StaticResource FieldLabel}"/>
                            <PasswordBox x:Name="OpenAIKeyBox" Style="{StaticResource AtlasPasswordBox}"/>
                            
                            <Border Background="#8b5cf610" CornerRadius="4" Padding="10" Margin="0,12,0,0">
                                <StackPanel>
                                    <TextBlock x:Name="ProviderInfoText" Text="â„¹ï¸ ElevenLabs provides the most natural voices" 
                                               Foreground="#94a3b8" FontSize="11" TextWrapping="Wrap"/>
                                    <TextBlock x:Name="CloudIndicator" Text="â˜ï¸ Cloud voice - data sent to provider" 
                                               Foreground="#f59e0b" FontSize="11" Margin="0,5,0,0" Visibility="Collapsed"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>
                    
                    <!-- INTEGRATIONS SECTION -->
                    <TextBlock Text="INTEGRATIONS" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#3b82f620" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Canva API Key" Style="{StaticResource FieldLabel}"/>
                            <PasswordBox x:Name="CanvaApiKeyBox" Style="{StaticResource AtlasPasswordBox}"/>
                            <Border Background="#3b82f610" CornerRadius="4" Padding="10" Margin="0,12,0,0">
                                <TextBlock Text="ðŸŽ¨ Canva: Design assistance for social media, logos, presentations" 
                                           Foreground="#94a3b8" FontSize="11" TextWrapping="Wrap"/>
                            </Border>
                        </StackPanel>
                    </Border>
                    
                    <!-- AUDIO SECTION -->
                    <TextBlock Text="AUDIO INPUT" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#22c55e20" BorderThickness="1">
                        <StackPanel>
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel>
                                    <TextBlock Text="Microphone" Style="{StaticResource FieldLabel}"/>
                                    <ComboBox x:Name="MicrophoneCombo" Style="{StaticResource AtlasComboBox}"
                                              SelectionChanged="Microphone_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Bottom" Margin="8,0,0,0">
                                    <Button x:Name="TestMicBtn" Content="ðŸŽ¤" Width="36" Height="36" Click="TestMic_Click"
                                            Background="#22c55e20" Foreground="#22c55e" BorderThickness="0" ToolTip="Test Mic">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="bd" Property="Background" Value="#22c55e40"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                    <Button x:Name="RefreshMicBtn" Content="ðŸ”„" Width="36" Height="36" Margin="4,0,0,0"
                                            Click="RefreshMic_Click" Background="#16161f" Foreground="#64748b" 
                                            BorderThickness="0" ToolTip="Refresh">
                                        <Button.Template>
                                            <ControlTemplate TargetType="Button">
                                                <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6">
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter TargetName="bd" Property="Background" Value="#1a1a24"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Button.Template>
                                    </Button>
                                </StackPanel>
                            </Grid>
                            
                            <TextBlock Text="Sensitivity" Style="{StaticResource FieldLabel}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <Slider x:Name="MicSensitivitySlider" Minimum="50" Maximum="500" Value="120"
                                        VerticalAlignment="Center" ValueChanged="MicSensitivity_Changed"/>
                                <Border Grid.Column="1" Background="#22c55e20" CornerRadius="4" Padding="8,4" Margin="8,0,0,0">
                                    <TextBlock x:Name="MicSensitivityValue" Text="120" Foreground="#22c55e" 
                                               HorizontalAlignment="Center" FontWeight="Bold" FontSize="12"/>
                                </Border>
                            </Grid>
                            
                            <!-- Audio Level Visualizer -->
                            <Border Background="#08080c" CornerRadius="6" Padding="12" Margin="0,16,0,0">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Text="ðŸŽ¤" Foreground="#64748b" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                    <Border Grid.Column="1" Background="#12121a" CornerRadius="4" Height="8">
                                        <Grid>
                                            <Border x:Name="AudioLevelBar" Background="#22c55e" CornerRadius="4" 
                                                    HorizontalAlignment="Left" Width="0"/>
                                            <Border x:Name="AudioPeakIndicator" Background="#f59e0b" Width="3" 
                                                    HorizontalAlignment="Left" CornerRadius="1" Visibility="Collapsed"/>
                                        </Grid>
                                    </Border>
                                    <TextBlock x:Name="AudioLevelText" Grid.Column="2" Text="0" Foreground="#64748b" 
                                               Width="35" TextAlignment="Right" Margin="10,0,0,0" FontSize="11"/>
                                </Grid>
                            </Border>
                            
                            <StackPanel Orientation="Horizontal" Margin="0,12,0,0">
                                <Button x:Name="StartMonitorBtn" Content="â–¶ Monitor" Click="StartMonitor_Click"
                                        Background="#22c55e20" Foreground="#22c55e" Padding="12,6" FontSize="11">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="bd" Property="Background" Value="#22c55e40"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Button x:Name="StopMonitorBtn" Content="â¹ Stop" Click="StopMonitor_Click" Margin="8,0,0,0"
                                        Background="#ef444420" Foreground="#ef4444" Padding="12,6" FontSize="11" IsEnabled="False">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="bd" Property="Background" Value="#ef444440"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                                <Button x:Name="AutoScanBtn" Content="ðŸ” Auto-Scan" Click="AutoScan_Click" Margin="8,0,0,0"
                                        Background="#f59e0b20" Foreground="#f59e0b" Padding="12,6" FontSize="11"
                                        ToolTip="Scan all mics and auto-select the first working one">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                                                <ContentPresenter HorizontalAlignment="Center"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="bd" Property="Background" Value="#f59e0b40"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>
                            </StackPanel>
                            
                            <TextBlock x:Name="MicStatusText" Text="ðŸŽ¤ Microphone: Ready" 
                                       Foreground="#22c55e" FontSize="11" Margin="0,12,0,0"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- ORB APPEARANCE -->
                    <TextBlock Text="ORB APPEARANCE" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#8b5cf620" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Style" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="OrbStyleCombo" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="OrbStyle_Changed" Margin="0,0,0,16">
                                <ComboBoxItem Content="ðŸ”® Floating Particles" Tag="particles"/>
                                <ComboBoxItem Content="âœ¨ Siri Animation" Tag="Siri Animation.json"/>
                                <ComboBoxItem Content="ðŸ¤– AI Assistant" Tag="AI Assistant.json"/>
                                <ComboBoxItem Content="âš¡ Loading Animation" Tag="Loading animation.json"/>
                            </ComboBox>
                            
                            <TextBlock Text="Color Theme" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="OrbColorCombo" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="OrbColor_Changed" Margin="0,0,0,16">
                                <ComboBoxItem Content="ðŸ”µ Cyan (Default)" Tag="cyan"/>
                                <ComboBoxItem Content="ðŸŸ£ Purple" Tag="purple"/>
                                <ComboBoxItem Content="ðŸŸ¢ Green" Tag="green"/>
                                <ComboBoxItem Content="ðŸ”´ Red" Tag="red"/>
                                <ComboBoxItem Content="ðŸŸ¡ Gold" Tag="gold"/>
                                <ComboBoxItem Content="ðŸ©· Pink" Tag="pink"/>
                            </ComboBox>
                            
                            <TextBlock Text="Animation Speed" Style="{StaticResource FieldLabel}"/>
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <Slider x:Name="OrbSpeedSlider" Minimum="0.1" Maximum="3.0" Value="1.0"
                                        ValueChanged="OrbSpeed_Changed"/>
                                <Border Grid.Column="1" Background="#8b5cf620" CornerRadius="4" Padding="8,4" Margin="8,0,0,0">
                                    <TextBlock x:Name="OrbSpeedLabel" Text="1.0x" Foreground="#8b5cf6" 
                                               HorizontalAlignment="Center" FontWeight="Bold" FontSize="12"/>
                                </Border>
                            </Grid>
                            
                            <TextBlock Text="Particle Count" Style="{StaticResource FieldLabel}"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <Slider x:Name="OrbParticleSlider" Minimum="50" Maximum="300" Value="180"
                                        ValueChanged="OrbParticle_Changed"/>
                                <Border Grid.Column="1" Background="#8b5cf620" CornerRadius="4" Padding="8,4" Margin="8,0,0,0">
                                    <TextBlock x:Name="OrbParticleLabel" Text="180" Foreground="#8b5cf6" 
                                               HorizontalAlignment="Center" FontWeight="Bold" FontSize="12"/>
                                </Border>
                            </Grid>
                        </StackPanel>
                    </Border>
                    
                    <!-- PERFORMANCE -->
                    <TextBlock Text="PERFORMANCE" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#f59e0b20" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="Quality Mode" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="QualityModeCombo" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="QualityMode_Changed" Margin="0,0,0,12">
                                <ComboBoxItem Content="ðŸ¢ Battery Saver (Low CPU)" Tag="low"/>
                                <ComboBoxItem Content="âš–ï¸ Balanced (Recommended)" Tag="balanced"/>
                                <ComboBoxItem Content="ðŸš€ Performance (Fast Response)" Tag="high"/>
                            </ComboBox>
                            <Border Background="#f59e0b10" CornerRadius="4" Padding="10">
                                <TextBlock x:Name="PerformanceInfoText" Text="âš–ï¸ Balanced mode: Good for most systems" 
                                           Foreground="#94a3b8" FontSize="11" TextWrapping="Wrap"/>
                            </Border>
                        </StackPanel>
                    </Border>
                    
                    <!-- PROFILE -->
                    <TextBlock Text="PROFILE" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#22d3ee20" BorderThickness="1">
                        <StackPanel>
                            <TextBlock Text="How should Atlas address you?" Style="{StaticResource FieldLabel}"/>
                            <ComboBox x:Name="HonorificComboBox" Style="{StaticResource AtlasComboBox}"
                                      SelectionChanged="HonorificComboBox_SelectionChanged">
                                <ComboBoxItem Content="Sir (JARVIS style)" Tag="Sir"/>
                                <ComboBoxItem Content="Ma'am" Tag="Maam"/>
                                <ComboBoxItem Content="By my name" Tag="Name"/>
                                <ComboBoxItem Content="No honorific" Tag="None"/>
                            </ComboBox>
                        </StackPanel>
                    </Border>
                    
                    <!-- STARTUP -->
                    <TextBlock Text="STARTUP" Style="{StaticResource SectionHeader}"/>
                    <Border Background="#0c0c12" CornerRadius="8" Padding="16" Margin="0,0,0,24"
                            BorderBrush="#22d3ee20" BorderThickness="1">
                        <CheckBox x:Name="AutoStartCheckbox" Content="Start Atlas with Windows" 
                                  Foreground="#f1f5f9" FontSize="13"/>
                    </Border>
                    
                </StackPanel>
            </ScrollViewer>
            
            <!-- Footer -->
            <Border Grid.Row="2" Background="#08080c" CornerRadius="0,0,12,12"
                    BorderBrush="#22d3ee20" BorderThickness="0,1,0,0">
                <Grid Margin="24,0">
                    <TextBlock x:Name="HardwareInfoText" Text="ðŸ–¥ï¸ System info loading..." 
                               Foreground="#64748b" FontSize="11" VerticalAlignment="Center"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Button Content="Cancel" Click="Cancel_Click" Padding="20,10"
                                Background="#16161f" Foreground="#94a3b8" Margin="0,0,8,0">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}">
                                        <ContentPresenter HorizontalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="bd" Property="Background" Value="#1a1a24"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                        <Button Content="Save" Click="Save_Click" Padding="24,10"
                                Background="#22c55e" Foreground="White" FontWeight="SemiBold">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="6" Padding="{TemplateBinding Padding}">
                                        <ContentPresenter HorizontalAlignment="Center"/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="bd" Property="Background" Value="#16a34a"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
